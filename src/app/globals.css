@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /*
   * Design System: Data-Dense Dark
   * Inspired by Linear, Notion, Raycast
   * Dark-first with light mode support
   * Mobile-first typography
   */

  :root {
    /* Light mode - clean, minimal, high contrast */
    --color-background: 250 250 250;    /* Neutral off-white */
    --color-surface: 255 255 255;       /* Pure white cards */
    --color-surface-2: 245 245 245;     /* Nested surface */
    --color-foreground: 10 10 10;       /* Near-black, high contrast */
    --color-border: 230 230 230;        /* Subtle border */
    --color-border-hover: 200 200 200;  /* Hover border */
    --color-muted: 100 100 100;         /* Secondary text - slightly darker for better contrast */
    --color-accent: 22 163 74;          /* Green accent */
    --color-accent-muted: 34 139 34;    /* Accent at lower opacity */
  }

  @media (prefers-color-scheme: dark) {
    :root {
      /* Dark mode - rich, refined, Raycast-inspired */
      --color-background: 9 9 11;         /* Deep, rich black */
      --color-surface: 17 17 19;          /* Elevated surface */
      --color-surface-2: 24 24 27;        /* Nested/hover surface */
      --color-foreground: 250 250 250;    /* Crisp white text */
      --color-border: 39 39 42;           /* Subtle dark border */
      --color-border-hover: 63 63 70;     /* Hover border */
      --color-muted: 161 161 170;         /* Secondary text */
      --color-accent: 74 222 128;         /* Vibrant green accent */
      --color-accent-muted: 34 197 94;    /* Softer accent */
    }
  }

  html {
    /* Tighter default letter-spacing for data-dense feel */
    letter-spacing: -0.01em;
    /* Prevent layout shift when scrollbar appears/disappears */
    overflow-y: scroll;
    /* Prevent text scaling on iOS Safari */
    -webkit-text-size-adjust: 100%;
  }

  body {
    @apply bg-background text-foreground antialiased text-base;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  /* Smooth color transitions for theme switching */
  body, header, main, article, section, aside,
  div[class*="bg-"], div[class*="border-"],
  p, span, h1, h2, h3, h4, h5, h6 {
    transition: background-color 150ms ease, border-color 150ms ease, color 150ms ease;
  }

  /* Accessibility - Focus states for keyboard navigation */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-background;
  }

  /* Typography - tighter, more refined */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold;
    letter-spacing: -0.025em;
  }

  /* Refined scrollbar for dark mode */
  @media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: rgb(63 63 70);
      border-radius: 5px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: rgb(82 82 91);
    }
  }
}

@layer components {
  /* Data-dense card style */
  .card {
    @apply bg-surface border border-border rounded-lg transition-all duration-150;
  }
  .card:hover {
    @apply border-border-hover bg-surface-2;
  }

  /* Badge styles - larger for better readability */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 text-sm font-medium rounded-md bg-surface-2 text-muted;
  }
  .badge-accent {
    @apply bg-accent/10 text-accent;
  }

  /* Touch-friendly input base */
  .input-base {
    @apply h-11 sm:h-10 text-base sm:text-sm bg-surface border border-border rounded-md text-foreground
           placeholder:text-muted/60 focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent
           transition-colors;
  }
}

@layer utilities {
  /* Frosted glass effect for header */
  .frosted-glass {
    @apply bg-background/80 backdrop-blur-xl border-b border-border;
  }

  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  /* Tabular numbers for data */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Minimum touch target size - 44px per Apple HIG */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
}
